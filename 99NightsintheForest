-- i wont update this script again thats why it's open source
--[[
@ dsc.gg/xvchub
--]]

local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/XVCHub/library/main/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "XVC Hub",
    Icon = 0,
    LoadingTitle = "XVC Hub Project",
    LoadingSubtitle = "by IEnes",
    Theme = "Default",
 
    DisableRayfieldPrompts = false,
    DisableBuildWarnings = false,
 
    ConfigurationSaving = {
       Enabled = true,
       FolderName = nil,
       FileName = "Big Hub"
    },
 
    Discord = {
       Enabled = false,
       Invite = "noinvitelink",
       RememberJoins = true
    },
 
    KeySystem = false,
    KeySettings = {
       Title = "Untitled",
       Subtitle = "Key System",
       Note = "No method of obtaining the key is provided",
       FileName = "Key",
       SaveKey = true,
       GrabKeyFromSite = false,
       Key = {"25ms"}
    }
 })

--tabs
local BringTab = Window:CreateTab("Bring", 6022668955)
local CombatTab = Window:CreateTab("Combat", 135517833070743)
local MiscTab = Window:CreateTab("Misc", 6034509993)
local TeleportsTab = Window:CreateTab("Teleports", 6035047381)
local AutoTab = Window:CreateTab("Auto", 6031360365)
local VisualTab = Window:CreateTab("Visual", 6031075931)
local readTab = Window:CreateTab("Read", 7733960981)
readTab:CreateLabel("Remember If the items etc are not on the map nothing can be bring or teleport.")
readTab:CreateParagraph({Title = "And", Content = "If you cant bring something if you fly over the map the map will grow and items will spawn on the map this way you can bring or teleport"})
readTab:CreateSection("more misc")
readTab:CreateButton({
	Name = "rejoin(use in game)",
	Callback = function()
		loadstring(game:HttpGet("https://pastebin.com/raw/5kcf62qz"))()
	end    
})
readTab:CreateButton({
	Name = "server hop(use in game)",
	Callback = function()
		loadstring(game:HttpGet("https://pastebin.com/raw/cWbZhmD3"))()
	end    
})

-- funcs

local function notify(title, content, duration)
    duration = duration or 6.5
    Rayfield:Notify({
        Title = title or "Item Not Found",
        Content = content or "Not Found in Map",
        Duration = duration,
        Image = 6034304908,
    })
end

-- yeah client bring ðŸ˜Ž just touch
local function bringmodel(name)
    local c = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()
    local cf = c:WaitForChild("HumanoidRootPart").CFrame
    for _, m in ipairs(workspace.Items:GetChildren()) do
        if m:IsA("Model") and m.Name == name then
            m.PrimaryPart = m.PrimaryPart or m:FindFirstChildWhichIsA("BasePart")
            if m.PrimaryPart then m:PivotTo(cf) end
        end
    end
end

local function bringkid(name)
    local c = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()
    local cf = c:WaitForChild("HumanoidRootPart").CFrame
    for _, m in ipairs(workspace.Characters:GetChildren()) do
        if m:IsA("Model") and m.Name == name then
            m.PrimaryPart = m.PrimaryPart or m:FindFirstChildWhichIsA("BasePart")
            if m.PrimaryPart then m:PivotTo(cf) end
        end
    end
end

local function gotochest()
    local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    local chests = {}
    local items = workspace:WaitForChild("Items")
    for _, m in ipairs(items:GetChildren()) do
        if m:IsA("Model") and m.Name:find("Chest") then
            local part = m.PrimaryPart or m:FindFirstChildWhichIsA("BasePart")
            if part then
                table.insert(chests, part)
            end
        end
    end
    if #chests > 0 then
        local chosen = chests[math.random(1, #chests)]
        hrp.CFrame = chosen.CFrame + Vector3.new(0, 3, 0)
    end
end

local function gotoufo()
local h=game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
local t,l={}
for _,m in pairs(workspace.Map.Landmarks:GetChildren())do
	if m.Name:sub(1,10)=="AlienCrash"then
		for _,p in pairs(m:GetDescendants())do
			if p:IsA("BasePart")and p.Name=="UFOSmoke"then t[#t+1]=p end
		end
	end
end
if#t>0 then
	local c
	repeat c=t[math.random(#t)] until c~=l or math.random()<0.2
	l=c
	h.CFrame=c.CFrame+Vector3.new(0,3,0)
end
end

local function gotostronghold()
    local hrp = game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    local main = workspace:FindFirstChild("Map") and workspace.Map:FindFirstChild("Landmarks") and workspace.Map.Landmarks:FindFirstChild("Stronghold") and workspace.Map.Landmarks.Stronghold:FindFirstChild("Main")
    if hrp and main then
        hrp.CFrame = main.CFrame
    end
end

local function gotocamp()
    local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    local map = workspace:WaitForChild("Map")
    local camp = map:WaitForChild("Campground")
    local fire = camp:WaitForChild("MainFire")
    local target = fire:WaitForChild("InnerTouchZone")

    if target and target:IsA("BasePart") then
        hrp.CFrame = target.CFrame + Vector3.new(0, 3, 0)
    end
end

--[[
local function bringcampmodel(itemName)
    local items = workspace:WaitForChild("Items")
    local map = workspace:WaitForChild("Map")
    local camp = map:WaitForChild("Campground")
    local target = camp:WaitForChild("CraftingBench"):WaitForChild("TouchZone")

    for _, model in pairs(items:GetChildren()) do
        if model:IsA("Model") and model.Name == itemName then
            model.PrimaryPart = model.PrimaryPart or model:FindFirstChildWhichIsA("BasePart")
            if model.PrimaryPart and target:IsA("BasePart") then
                model:PivotTo(target.CFrame + Vector3.new(0, 0, 0))
            end
        end
    end
end
]]

--services and variables

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local localPlayer = Players.LocalPlayer
local characters = workspace:WaitForChild("Characters")
local foliage = workspace:WaitForChild("Map"):WaitForChild("Foliage")
local landmarks = workspace:WaitForChild("Map"):WaitForChild("Landmarks")
local treeLoop = nil
local bushLoop = nil
local stoneLoop = nil
local infHungerActive = nil
local infHungerThread

--auto_cut_tree

local autoCutEnabled = false
local autoCutRange = 15
local runningAutoCut = false
local currentAmount_1 = 0

--kill_aura

local killAuraEnabled = false
local killAuraRange = 15
local runningAura = false
local currentAmount = 0

BringTab:CreateLabel("Others")

BringTab:CreateButton({
	Name = "Get Childs",
	Callback = function()
		bringkid("Lost Child")
        bringkid("Lost Child2")
        bringkid("Lost Child3")
        bringkid("Lost Child4")
	end    
})

BringTab:CreateButton({
	Name = "Giant Sack",
	Callback = function()
		bringmodel("Giant Sack")
	end    
})

BringTab:CreateButton({
	Name = "Good Sack",
	Callback = function()
		bringmodel("Good Sack")
	end    
})

BringTab:CreateButton({
	Name = "Cultist Gem",
	Callback = function()
		bringmodel("Cultist Gem")
	end    
})

BringTab:CreateButton({
	Name = "Sapling",
	Callback = function()
		bringmodel("Sapling")
	end    
})

BringTab:CreateLabel("Fire")

BringTab:CreateButton({
	Name = "Log",
	Callback = function()
		bringmodel("Log")
	end    
})

BringTab:CreateButton({
	Name = "Chair",
	Callback = function()
		bringmodel("Chair")
	end    
})

BringTab:CreateButton({
	Name = "Coal",
	Callback = function()
		bringmodel("Coal")
	end    
})

BringTab:CreateButton({
	Name = "Fuel Canister",
	Callback = function()
		bringmodel("Fuel Canister")
	end    
})

BringTab:CreateButton({
	Name = "Oil Barrel",
	Callback = function()
		bringmodel("Oil Barrel")
	end    
})

BringTab:CreateLabel("Metals")

BringTab:CreateButton({
	Name = "Bolt",
	Callback = function()
		bringmodel("Bolt")
	end    
})

BringTab:CreateButton({
	Name = "Broken Fan",
	Callback = function()
		bringmodel("Broken Fan")
	end    
})

BringTab:CreateButton({
	Name = "Sheet Metal",
	Callback = function()
		bringmodel("Sheet Metal")
	end    
})

BringTab:CreateButton({
	Name = "Metal Chair",
	Callback = function()
		bringmodel("Metal Chair")
	end    
})

BringTab:CreateButton({
	Name = "Old Radio",
	Callback = function()
		bringmodel("Old Radio")
	end    
})

BringTab:CreateButton({
	Name = "Broken Microwave",
	Callback = function()
		bringmodel("Broken Microwave")
	end    
})

BringTab:CreateButton({
	Name = "Tyre",
	Callback = function()
		bringmodel("Tyre")
	end    
})

BringTab:CreateButton({
	Name = "Washing Machine",
	Callback = function()
		bringmodel("Washing Machine")
	end    
})

BringTab:CreateButton({
	Name = "Old Car Engine",
	Callback = function()
		bringmodel("Old Car Engine")
	end    
})

BringTab:CreateLabel("Food")

BringTab:CreateButton({
	Name = "Morsel",
	Callback = function()
		bringmodel("Morsel")
	end    
})

BringTab:CreateButton({
	Name = "Steak",
	Callback = function()
		bringmodel("Steak")
	end    
})

BringTab:CreateButton({
	Name = "Carrot",
	Callback = function()
		bringmodel("Carrot")
	end    
})

BringTab:CreateButton({
	Name = "Apple",
	Callback = function()
		bringmodel("Apple")
	end    
})

BringTab:CreateButton({
	Name = "Chilli",
	Callback = function()
		bringmodel("Chilli")
	end    
})

BringTab:CreateButton({
	Name = "Berry",
	Callback = function()
		bringmodel("Berry")
	end    
})

BringTab:CreateButton({
	Name = "Cake",
	Callback = function()
		bringmodel("Cake")
	end    
})

BringTab:CreateLabel("Heal")

BringTab:CreateButton({
	Name = "Bandage",
	Callback = function()
		bringmodel("Bandage")
	end    
})

BringTab:CreateButton({
	Name = "MedKit",
	Callback = function()
		bringmodel("MedKit")
	end    
})

BringTab:CreateLabel("UFO UPDATE")

BringTab:CreateButton({
	Name = "UFO Junk",
	Callback = function()
		bringmodel("UFO Junk")
	end    
})

BringTab:CreateButton({
	Name = "UFO Scrap",
	Callback = function()
		bringmodel("UFO Scrap")
	end    
})

BringTab:CreateButton({
	Name = "UFO Component",
	Callback = function()
		bringmodel("UFO Component")
	end    
})

BringTab:CreateButton({
	Name = "Meat? Sandwich",
	Callback = function()
		bringmodel("Meat? Sandwich")
	end    
})

BringTab:CreateButton({
	Name = "Laser Sword",
	Callback = function()
		bringmodel("Laser Sword")
	end    
})

BringTab:CreateButton({
	Name = "Laser Cannon",
	Callback = function()
		bringmodel("Laser Cannon")
	end    
})

BringTab:CreateButton({
	Name = "Raygun",
	Callback = function()
		bringmodel("Raygun")
	end    
})

CombatTab:CreateLabel("Kill-Aura (Equip Axe Tool And Only Axe Tool)")

CombatTab:CreateToggle({
    Name = "Toggle Kill Aura",
    CurrentValue = false,
    Flag = "KillAuraToggle",
    Callback = function(Value)
        killAuraEnabled = Value
        if Value and not runningAura then
            runningAura = true
            task.spawn(function()
                while killAuraEnabled do
                    task.wait()
                    currentAmount += 10
                    local tool = localPlayer:WaitForChild("Inventory"):FindFirstChild("Old Axe") or localPlayer:WaitForChild("Inventory"):FindFirstChild("Good Axe") or localPlayer:WaitForChild("Inventory"):FindFirstChild("Strong Axe") or localPlayer:WaitForChild("Inventory"):FindFirstChild("Chainsaw")
                    if not tool then continue end
                    local character = localPlayer.Character
                    if not character then continue end
                    local hrp = character:FindFirstChild("HumanoidRootPart")
                    if not hrp then continue end
                    for _, target in pairs(characters:GetChildren()) do
                        if target.Name ~= localPlayer.Name then
                            local targetHRP = target:FindFirstChild("HumanoidRootPart")
                            if targetHRP then
                                local distance = (targetHRP.Position - hrp.Position).Magnitude
                                if distance <= killAuraRange then
                                    coroutine.wrap(function()
                                        local Event = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("ToolDamageObject")
                                        Event:InvokeServer(
                                            target,
                                            tool,
                                            tostring(currentAmount) .. "_7367831688",
                                            CFrame.new(-2.9626, 4.5547, -75.9508, 0.8962, 0, 0.4436, 0, 1, 0, -0.4436, 0, 0.8962)
                                        )
                                    end)()
                                end
                            end
                        end
                    end
                end
                runningAura = false
            end)
        end
    end,
})

CombatTab:CreateSlider({
    Name = "Kill Aura Range",
    Range = {5, 100},
    Increment = 5,
    Suffix = "Studs",
    CurrentValue = killAuraRange,
    Flag = "KillAuraRangeSlider",
    Callback = function(Value)
        killAuraRange = Value
    end,
})

CombatTab:CreateLabel("Guns")

CombatTab:CreateButton({
	Name = "Tactical Shotgun",
	Callback = function()
		bringmodel("Tactical Shotgun")
	end    
})

CombatTab:CreateButton({
	Name = "Rifle",
	Callback = function()
		bringmodel("Rifle")
	end    
})

CombatTab:CreateButton({
	Name = "Revolver",
	Callback = function()
		bringmodel("Revolver")
	end    
})

CombatTab:CreateButton({
	Name = "Get Ammo",
	Callback = function()
        bringmodel("Rifle Ammo")
		bringmodel("Revolver Ammo")
	end    
})

CombatTab:CreateLabel("Items")

CombatTab:CreateButton({
	Name = "Good Axe",
	Callback = function()
		bringmodel("Good Axe")
	end    
})

CombatTab:CreateButton({
	Name = "Strong Axe",
	Callback = function()
		bringmodel("Strong Axe")
	end    
})

CombatTab:CreateButton({
	Name = "Spear",
	Callback = function()
		bringmodel("Spear")
	end    
})

CombatTab:CreateButton({
	Name = "Morningstar",
	Callback = function()
		bringmodel("Morningstar")
	end    
})

CombatTab:CreateButton({
	Name = "Kunai",
	Callback = function()
		bringmodel("Kunai")
	end    
})

CombatTab:CreateLabel("Defense")

CombatTab:CreateButton({
	Name = "Thorn Body",
	Callback = function()
		bringmodel("Thorn Body")
	end    
})

CombatTab:CreateButton({
	Name = "Iron Body",
	Callback = function()
		bringmodel("Iron Body")
	end    
})

CombatTab:CreateButton({
	Name = "Leather Body",
	Callback = function()
		bringmodel("Leather Body")
	end    
})

CombatTab:CreateButton({
	Name = "Riot Shield",
	Callback = function()
		bringmodel("Riot Shield")
	end    
})

MiscTab:CreateButton({
	Name = "Infinite Yield",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end    
})

MiscTab:CreateButton({
	Name = "TP Camp",
	Callback = function()
		gotocamp()
	end    
})

MiscTab:CreateButton({
	Name = "TP Random Chest",
	Callback = function()
		gotochest()
	end    
})

MiscTab:CreateButton({
	Name = "TP Random UFO",
	Callback = function()
		gotoufo()
	end    
})

MiscTab:CreateButton({
    Name = "No ProximityPrompt HoldDuration For Item Chests",
    Callback = function()
        local Items = workspace:WaitForChild("Items")
        local function hold(model)
            for _, desc in pairs(model:GetDescendants()) do
                if desc:IsA("ProximityPrompt") then
                    desc.HoldDuration = 0
                end
            end
            model.DescendantAdded:Connect(function(newDesc)
                if newDesc:IsA("ProximityPrompt") then
                    newDesc.HoldDuration = 0
                end
            end)
        end
        for _, model in pairs(Items:GetChildren()) do
            if model:IsA("Model") and model.Name:match("^Item Chest") then
                hold(model)
            end
        end
        Items.ChildAdded:Connect(function(newModel)
            if newModel:IsA("Model") and newModel.Name:match("^Item Chest") then
                hold(newModel)
            end
        end)
    end
})

MiscTab:CreateButton({
	Name = "Auto Collect Coins in Map op",
	Callback = function()
		local ReplicatedStorage = game:GetService("ReplicatedStorage")
		local Remote = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("RequestCollectCoints")
		local ItemsFolder = workspace:WaitForChild("Items")
		for _, item in ipairs(ItemsFolder:GetChildren()) do
			if item:IsA("Model") and item.Name:lower():find("coin stack") then
				pcall(function()
					Remote:InvokeServer(item)
				end)
			end
		end
	end
})

MiscTab:CreateLabel("Pelt Trader")

MiscTab:CreateButton({
	Name = "Bunny Foot",
	Callback = function()
		bringmodel("Bunny Foot")
	end    
})

MiscTab:CreateButton({
	Name = "Wolf Pelt",
	Callback = function()
		bringmodel("Wolf Pelt")
	end    
})

MiscTab:CreateButton({
	Name = "Alpha Wolf Pelt",
	Callback = function()
		bringmodel("Alpha Wolf Pelt")
	end    
})

MiscTab:CreateButton({
	Name = "Bear Pelt",
	Callback = function()
		bringmodel("Bear Pelt")
	end    
})

MiscTab:CreateLabel("Laggy")

MiscTab:CreateButton({
	Name = "Bring All Any Items (Risk: Very Laggy)",
	Callback = function()
		local LocalPlayer = game:GetService("Players").LocalPlayer
		for _, item in ipairs(workspace:WaitForChild("Items"):GetChildren()) do
			local part = item:FindFirstChildWhichIsA("BasePart") or (item:IsA("BasePart") and item)
			if part and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
				part.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
			end
		end
	end
})

MiscTab:CreateLabel("TP Anywhere")

local inputText = ""

MiscTab:CreateInput({
    Name = "Position",
    PlaceholderText = "x,y,z or cframe",
    Callback = function(text)
        inputText = text
    end,
})

MiscTab:CreateButton({
    Name = "Teleport",
    Callback = function()
        local nums = {}
        for num in inputText:gmatch("[^,%s]+") do
            table.insert(nums, tonumber(num))
        end
        local char = game.Players.LocalPlayer.Character
        if not char then return end
        local root = char:FindFirstChild("HumanoidRootPart")
        if not root then return end
        if #nums == 3 then
            root.CFrame = CFrame.new(nums[1], nums[2], nums[3])
        elseif #nums == 12 then
            root.CFrame = CFrame.new(unpack(nums))
        else
            warn("invalid")
        end
    end
})
TeleportsTab:CreateSection("Buildings")
TeleportsTab:CreateButton({
	Name = "TP Camp",
	Callback = function()
		gotocamp()
	end    
})

TeleportsTab:CreateButton({
	Name = "TP Alien Base",
	Callback = function()
		local p=Vector3.new(-155.635,-476.828,-4.9538)local c,d=nil,9e9;for _,m in ipairs(workspace.Map.Landmarks.AlienMothership.Functional:GetChildren())do if m:IsA("Model")and m.Name=="EarthTeleport"and m.PrimaryPart and(p-m.PrimaryPart.Position).Magnitude<d then c,d=m,(p-m.PrimaryPart.Position).Magnitude end end if c then game.Players.LocalPlayer.Character:MoveTo(c.PrimaryPart.Position)end
	end    
})

TeleportsTab:CreateButton({
	Name = "TP StrongHold",
	Callback = function()
		gotostronghold()
	end    
})

TeleportsTab:CreateButton({
	Name = "TP Tool Work shop",
	Callback = function()
		game.Players.LocalPlayer.Character:MoveTo(workspace.Map.Landmarks["ToolWorkshop"]:GetPrimaryPartCFrame().Position)
	end    
})

TeleportsTab:CreateSection("Characters")

TeleportsTab:CreateButton({
	Name = "TP Furniture Trader",
	Callback = function()
		game.Players.LocalPlayer.Character:MoveTo(workspace.Characters["Furniture Trader"].HumanoidRootPart.Position)
	end    
})

TeleportsTab:CreateButton({
	Name = "TP Fairy",
	Callback = function()
game.Players.LocalPlayer.Character:MoveTo(workspace.Map.Landmarks["Fairy House"]:GetPrimaryPartCFrame().Position)
	end    
})


AutoTab:CreateLabel("Tree")

local selectedTreeTargets = {"Small Tree"}

AutoTab:CreateDropdown({
    Name = "Select Target",
    Options = {"Small Tree", "Big Tree"},
    CurrentOption = {"Small Tree"},
    MultipleOptions = true,
    Flag = "TreeTargetDropdown",
    Callback = function(Options)
        if #Options == 0 then
            selectedTreeTargets = {"Small Tree"}
        else
            selectedTreeTargets = Options
        end
    end,
})

AutoTab:CreateToggle({
    Name = "Toggle Auto Cut Trees",
    CurrentValue = false,
    Flag = "AutoCutTreesToggle",
    Callback = function(Value)
        autoCutEnabled = Value
        if Value and not runningAutoCut then
            runningAutoCut = true
            task.spawn(function()
                local Event = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("ToolDamageObject")
                while autoCutEnabled do
                    task.wait(0.3)
                    currentAmount_1 += 10

                    if not tool or not tool:IsDescendantOf(localPlayer.Inventory) then
                        tool = localPlayer.Inventory:FindFirstChild("Old Axe") or
                               localPlayer.Inventory:FindFirstChild("Good Axe") or
                               localPlayer.Inventory:FindFirstChild("Strong Axe") or
                               localPlayer.Inventory:FindFirstChild("Chainsaw")
                        if not tool then continue end
                    end

                    local character = localPlayer.Character
                    local hrp = character and character:FindFirstChild("HumanoidRootPart")
                    if not hrp then continue end

                    local function tryCut(obj)
                        local isTarget = false
                        local isBigTree = false
                        for _, target in ipairs(selectedTreeTargets) do
                            if target == "Small Tree" and obj.Name == "Small Tree" then
                                isTarget = true
                                break
                            elseif target == "Big Tree" and obj.Name == "TreeBig2" then
                                isTarget = true
                                isBigTree = true
                                break
                            end
                        end
                        if not isTarget then return end
                        if isBigTree and (tool.Name ~= "Strong Axe" and tool.Name ~= "Chainsaw") then
                            return
                        end

                        local objPosition = (obj:IsA("BasePart") and obj.Position)
                            or (obj:FindFirstChild("HumanoidRootPart") and obj.HumanoidRootPart.Position)
                            or (obj:FindFirstChildWhichIsA("BasePart") and obj:FindFirstChildWhichIsA("BasePart").Position)
                        if not objPosition then return end

                        if (objPosition - hrp.Position).Magnitude <= autoCutRange then
                            local args = {
                                obj,
                                tool,
                                tostring(currentAmount_1) .. "_8827947107",
                                CFrame.new(
                                    -59.057456970214844, 3.932379961013794, 54.14312744140625,
                                    -0.3447163999080658, 3.710312768134827e-08, 0.9387068748474121,
                                    6.0783422739518755e-09, 1, -3.72936668213697e-08,
                                    -0.9387068748474121, -7.149957514940297e-09, -0.3447163999080658
                                )
                            }
                            Event:InvokeServer(unpack(args))
                        end
                    end

                    for _, obj in ipairs(foliage:GetChildren()) do
                        tryCut(obj)
                    end
                    for _, obj in ipairs(landmarks:GetChildren()) do
                        tryCut(obj)
                    end
                end
                runningAutoCut = false
            end)
        end
    end,
})

AutoTab:CreateSlider({
    Name = "Auto Cut Trees Range",
    Range = {10, 1000},
    Increment = 10,
    Suffix = "Studs",
    CurrentValue = autoCutRange,
    Flag = "AutoCutTreesRangeSlider",
    Callback = function(Value)
        autoCutRange = Value
    end,
})

AutoTab:CreateLabel("Auto Heal(need bandage or medkit in map or inventory)")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local healthThreshold = 0.5
local autoHealActive = false
local alreadyHealed = false

local SelectedHeals = {
	["Bandage"] = true,
	["MedKit"] = true
}

AutoTab:CreateSlider({
	Name = "Heal when HP %",
	Range = {1, 100},
	Increment = 1,
	Suffix = "%",
	CurrentValue = 50,
	Flag = "HealSlider",
	Callback = function(Value)
		healthThreshold = Value / 100
	end,
})

AutoTab:CreateToggle({
	Name = "Auto Heal When HP",
	CurrentValue = false,
	Callback = function(state)
		autoHealActive = state
		if state then
			task.spawn(function()
				while autoHealActive do
					local character = workspace:FindFirstChild(LocalPlayer.Name)
					local humanoid = character and character:FindFirstChildWhichIsA("Humanoid")
					if humanoid then
						local currentHealth = humanoid.Health
						local maxHealth = humanoid.MaxHealth
						local ratio = currentHealth / maxHealth
						if ratio <= healthThreshold and not alreadyHealed then
							local function tryConsumeItemFrom(folder)
								if folder then
									for _, item in ipairs(folder:GetChildren()) do
										if item:IsA("Model") and SelectedHeals[item.Name] then
											local success = pcall(function()
												ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("RequestConsumeItem"):InvokeServer(item)
											end)
											if success then
												alreadyHealed = true
												return true
											end
										end
									end
								end
								return false
							end
							if not tryConsumeItemFrom(LocalPlayer:FindFirstChild("Inventory")) then
								tryConsumeItemFrom(workspace:FindFirstChild("Items"))
							end
						elseif ratio > healthThreshold then
							alreadyHealed = false
						end
					end
					task.wait(1)
				end
			end)
		end
	end
})

local healthLabel
local healthGui
local showHealthActive = false

AutoTab:CreateToggle({
	Name = "Show Health %",
	CurrentValue = false,
	Callback = function(state)
		showHealthActive = state
		if state then
			local playerGui = LocalPlayer:WaitForChild("PlayerGui")
			if healthGui then
				healthGui:Destroy()
				healthGui = nil
			end
			healthGui = Instance.new("ScreenGui")
			healthGui.Name = "HealthDisplay"
			healthGui.Parent = playerGui
			healthLabel = Instance.new("TextLabel")
			healthLabel.Name = "HealthLabel"
			healthLabel.Size = UDim2.new(0, 150, 0, 30)
			healthLabel.Position = UDim2.new(0.5, 0, 0, 10)
			healthLabel.AnchorPoint = Vector2.new(0.5, 0)
			healthLabel.BackgroundTransparency = 0.5
			healthLabel.BackgroundColor3 = Color3.new(0, 0, 0)
			healthLabel.TextColor3 = Color3.new(1, 1, 1)
			healthLabel.TextStrokeTransparency = 0
			healthLabel.Font = Enum.Font.SourceSansBold
			healthLabel.TextScaled = true
			healthLabel.RichText = true
			healthLabel.Text = "Loading..."
			healthLabel.Parent = healthGui
			task.spawn(function()
				while showHealthActive and healthLabel and healthLabel.Parent do
					local character = LocalPlayer.Character
					if character and character:FindFirstChild("Humanoid") then
						local hp = character.Humanoid.Health
						local maxHp = character.Humanoid.MaxHealth
						local ratio = hp / maxHp
						local percent = math.floor(ratio * 100)
						local color
						if percent > 50 then
							color = "rgb(0,255,0)"
						elseif percent > 25 then
							color = "rgb(255,200,0)"
						elseif percent > 10 then
							color = "rgb(255,100,50)"
						else
							color = "rgb(255,0,0)"
						end
						healthLabel.Text = '<font color="rgb(255,255,255)">HP:</font> <font color="' .. color .. '">' .. percent .. '%</font>'
					else
						healthLabel.Text = '<font color="rgb(255,255,255)">HP:</font> <font color="rgb(0,255,0)">N/A</font>'
					end
					task.wait(1)
				end
			end)
		else
			if healthGui then
				healthGui:Destroy()
				healthGui = nil
				healthLabel = nil
			end
		end
	end
})

AutoTab:CreateLabel("Hunger")

local hungerThreshold = 0.15
local infHungerActive = false
local alreadyAte = false
local SelectedFoods = {}
local maxEats = 1

local function CreateEatToggle(displayName, foodName, defaultValue)
	AutoTab:CreateToggle({
		Name = displayName,
		CurrentValue = defaultValue,
		Callback = function(state)
			if state then
				SelectedFoods[foodName] = true
			else
				SelectedFoods[foodName] = nil
			end
		end
	})
	if defaultValue then
		SelectedFoods[foodName] = true
	end
end

AutoTab:CreateSlider({
	Name = "Eat when Hunger %",
	Range = {1, 100},
	Increment = 1,
	Suffix = "%",
	CurrentValue = 15,
	Flag = "EatSlider",
	Callback = function(Value)
		hungerThreshold = Value / 100
	end,
})

AutoTab:CreateSlider({
	Name = "How much food do you eat",
	Range = {1, 5},
	Increment = 1,
	Suffix = "food",
	CurrentValue = 1,
	Flag = "EatMaxTimesSlider",
	Callback = function(value)
		maxEats = value
	end,
})

AutoTab:CreateToggle({
	Name = "Auto Eat When Hunger",
	CurrentValue = false,
	Callback = function(state)
		infHungerActive = state
		if state then
			task.spawn(function()
				while infHungerActive do
					local barFrame
					local success = pcall(function()
						barFrame = LocalPlayer:WaitForChild("PlayerGui"):WaitForChild("Interface"):WaitForChild("StatBars"):WaitForChild("HungerBar"):WaitForChild("Bar")
					end)
					if success and barFrame and barFrame:IsA("Frame") then
						local currentHunger = barFrame.Size.X.Scale
						if currentHunger <= hungerThreshold then
							local eats = 0
							for _, item in ipairs(workspace:WaitForChild("Items"):GetChildren()) do
								if eats >= maxEats then break end
								if item:IsA("Model") and SelectedFoods[item.Name] then
									pcall(function()
										ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("RequestConsumeItem"):InvokeServer(item)
									end)
									eats += 1
									task.wait(0.25)
								end
							end
						end
					end
					task.wait(1)
				end
			end)
		end
	end,
})

local hungerLabel
local showHungerActive = false

AutoTab:CreateToggle({
	Name = "Show Hunger %",
	CurrentValue = false,
	Callback = function(state)
		showHungerActive = state

		if state then
			local success, hungerBarFrame, barFrame = pcall(function()
				local interface = Players.LocalPlayer:WaitForChild("PlayerGui"):WaitForChild("Interface")
				local statBars = interface:WaitForChild("StatBars")
				local hungerBar = statBars:WaitForChild("HungerBar")
				return hungerBar, hungerBar:WaitForChild("Bar")
			end)
			if success and hungerBarFrame and barFrame then
				hungerLabel = Instance.new("TextLabel")
				hungerLabel.Name = "HungerLabel"
				hungerLabel.Size = UDim2.new(1, 0, 0, 20)
				hungerLabel.Position = UDim2.new(0, 0, 0, -22)
				hungerLabel.BackgroundTransparency = 1
				hungerLabel.TextColor3 = Color3.new(1, 1, 1)
				hungerLabel.TextStrokeTransparency = 0
				hungerLabel.Font = Enum.Font.SourceSansBold
				hungerLabel.TextScaled = true
				hungerLabel.Text = "Loading..."
				hungerLabel.Parent = hungerBarFrame
				task.spawn(function()
					while showHungerActive and hungerLabel and hungerLabel.Parent do
						local scale = barFrame.Size.X.Scale
						hungerLabel.Text = "Hunger: " .. math.floor(scale * 100) .. "%"
						task.wait(1)
					end
				end)
			end
		else
			showHungerActive = false
			if hungerLabel then
				hungerLabel:Destroy()
				hungerLabel = nil
			end
		end
	end
})

AutoTab:CreateLabel("Foods")
CreateEatToggle("Eat Carrot", "Carrot", true)
CreateEatToggle("Eat Berry", "Berry", true)
CreateEatToggle("Eat Apple", "Apple", true)
CreateEatToggle("Eat Cake", "Cake", true)
CreateEatToggle("Eat Cooked Morsel", "Cooked Morsel", false)
CreateEatToggle("Eat Cooked Steak", "Cooked Steak", false)
AutoTab:CreateLabel("Auto Plant(OP FOR BASE)")
local plantingActive = false
local plantRange = 15
local minSpacing = 2

AutoTab:CreateSlider({
    Name = "Planting Radius",
    Range = {5, 100},
    Increment = 5,
    Suffix = " studs",
    CurrentValue = plantRange,
    Flag = "PlantRadiusSlider",
    Callback = function(Value)
        plantRange = Value
    end,
})

AutoTab:CreateToggle({
    Name = "Auto Plant (Circle)",
    CurrentValue = false,
    Flag = "AutoPlantCircleToggle",
    Callback = function(state)
        plantingActive = state
        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Remote = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("RequestPlantItem")
                local Workspace = game:GetService("Workspace")
                local Items = Workspace:WaitForChild("Items")
                local LocalPlayer = Players.LocalPlayer

                local RayParams = RaycastParams.new()
                RayParams.FilterType = Enum.RaycastFilterType.Blacklist
                RayParams.FilterDescendantsInstances = {Items}

                local angleIndex = 1

                while plantingActive do
                    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                    local hrp = character:FindFirstChild("HumanoidRootPart")
                    if not hrp then task.wait(1) continue end

                    local origin = hrp.Position

                    local sapling = nil
                    for _, item in ipairs(Items:GetChildren()) do
                        if item:IsA("Model") and item.Name == "Sapling" then
                            sapling = item
                            break
                        end
                    end

                    if not sapling then
                        notify("No Sapling found")
                        task.wait(2)
                        continue
                    end
                    local circumference = 2 * math.pi * plantRange
                    local saplingCount = math.floor(circumference / minSpacing)
                    if saplingCount < 1 then saplingCount = 1 end
                    local angle = math.rad((360 / saplingCount) * (angleIndex - 1))
                    local x = math.cos(angle) * plantRange
                    local z = math.sin(angle) * plantRange
                    local checkPos = origin + Vector3.new(x, 5, z)
                    local result = Workspace:Raycast(checkPos, Vector3.new(0, -20, 0), RayParams)
                    if result then
                        local groundPos = result.Position
                        pcall(function()
                            Remote:InvokeServer(sapling, groundPos)
                        end)
                    end

                    angleIndex += 1
                    if angleIndex > saplingCount then
                        angleIndex = 1
                    end

                    task.wait(0.05)
                end
            end)
        end
    end,
})

local saplingLabel = nil
local showSaplingActive = false

AutoTab:CreateToggle({
    Name = "Show Sapling Count",
    CurrentValue = false,
    Flag = "ShowSaplingGuiToggle",
    Callback = function(state)
        showSaplingActive = state

        if state then
            if not saplingLabel then
                local screenGui = Instance.new("ScreenGui")
                screenGui.Name = "SaplingGUI"
                screenGui.ResetOnSpawn = false
                screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

                local label = Instance.new("TextLabel")
                label.Name = "SaplingLabel"
                label.Size = UDim2.new(0, 200, 0, 30)
                label.Position = UDim2.new(0, 10, 0, 100)
                label.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
                label.BackgroundTransparency = 0.2
                label.TextColor3 = Color3.new(1, 1, 1)
                label.Font = Enum.Font.SourceSansBold
                label.TextScaled = true
                label.Text = "Saplings: Loading..."
                label.Parent = screenGui

                saplingLabel = label
            end
            task.spawn(function()
                while showSaplingActive and saplingLabel and saplingLabel.Parent do
                    local count = 0
                    for _, item in ipairs(workspace.Items:GetChildren()) do
                        if item:IsA("Model") and item.Name == "Sapling" then
                            count += 1
                        end
                    end
                    saplingLabel.Text = "Saplings: " .. tostring(count)
                    task.wait(1.5)
                end
            end)
        else
            showSaplingActive = false
            if saplingLabel and saplingLabel.Parent then
                saplingLabel.Parent:Destroy()
                saplingLabel = nil
            end
        end
    end,
})

local estimatedLabel = AutoTab:CreateSection("Estimated Saplings: Click the button below")

AutoTab:CreateButton({
    Name = "Estimate Saplings",
    Callback = function()
        local circumference = 2 * math.pi * plantRange
        local estimated = math.floor(circumference / minSpacing)
        estimatedLabel:Set("Estimated Saplings: " .. tostring(estimated))
    end,
})

local function invisible(nameFilter)
	for _, folder in ipairs({foliage, landmarks}) do
		for _, model in ipairs(folder:GetChildren()) do
			if model:IsA("Model") and model.Name:find(nameFilter) then
				for _, part in ipairs(model:GetDescendants()) do
					if part:IsA("BasePart") then
						part.Transparency = 1
						part.CanCollide = false
					end
				end
			end
		end
	end
end

local function visible(nameFilter)
	for _, folder in ipairs({foliage, landmarks}) do
		for _, model in ipairs(folder:GetChildren()) do
			if model:IsA("Model") and model.Name:find(nameFilter) then
				for _, part in ipairs(model:GetDescendants()) do
					if part:IsA("BasePart") then
						part.Transparency = 0
						part.CanCollide = true
					end
				end
			end
		end
	end
end

VisualTab:CreateToggle({
	Name = "Disable Trees (visual)",
	CurrentValue = false,
	Callback = function(Value)
		_G.TreesInvisible = Value
		if treeLoop then
			task.cancel(treeLoop)
			treeLoop = nil
		end
		if Value then
			invisible("Small Tree")
			invisible("TreeBig")
			treeLoop = task.spawn(function()
				while _G.TreesInvisible do
					invisible("Small Tree")
					invisible("TreeBig")
					task.wait(2)
				end
			end)
		else
			visible("Small Tree")
			visible("TreeBig")
		end
	end,
})

VisualTab:CreateToggle({
	Name = "Disable Bush (visual)",
	CurrentValue = false,
	Callback = function(Value)
		_G.BushInvisible = Value
		if bushLoop then
			task.cancel(bushLoop)
			bushLoop = nil
		end
		if Value then
			invisible("Bush")
            invisible("Grass")
            invisible("Bunny Burrow")
			bushLoop = task.spawn(function()
				while _G.BushInvisible do
					invisible("Bush")
                    invisible("Grass")
                    invisible("Bunny Burrow")
					task.wait(2)
				end
			end)
		else
			visible("Bush")
            visible("Grass")
            visible("Bunny Burrow")
		end
	end,
})

VisualTab:CreateToggle({
	Name = "Disable Stones (visual)",
	CurrentValue = false,
	Callback = function(Value)
		_G.StonesInvisible = Value
		if stoneLoop then
			task.cancel(stoneLoop)
			stoneLoop = nil
		end
		if Value then
			invisible("StoneSmall")
			invisible("StoneTall")
			stoneLoop = task.spawn(function()
				while _G.StonesInvisible do
					invisible("StoneSmall")
					invisible("StoneTall")
					task.wait(2)
				end
			end)
		else
			visible("StoneSmall")
			visible("StoneTall")
		end
	end,
})

VisualTab:CreateLabel("ESP")

local espConn

local function toggleESP(folder, filter, on, color)
    if espConn then
        espConn:Disconnect()
        espConn = nil
    end

    for _, m in pairs(folder:GetChildren()) do
        local p = m.PrimaryPart or m:FindFirstChildWhichIsA("BasePart")
        if p then
            local e = p:FindFirstChild("ESP")
            if on and filter(m) and not e then
                local g = Instance.new("BillboardGui")
                g.Name = "ESP"
                g.Adornee = p
                g.Size = UDim2.new(0, 100, 0, 20)
                g.StudsOffset = Vector3.new(0, 2, 0)
                g.AlwaysOnTop = true
                g.Parent = p

                local l = Instance.new("TextLabel")
                l.Size = UDim2.new(1, 0, 1, 0)
                l.BackgroundTransparency = 1
                l.Text = m.Name
                l.TextColor3 = color or Color3.new(1, 1, 1)
                l.TextSize = 14
                l.Font = Enum.Font.SourceSansBold
                l.Parent = g
            elseif not on and e then
                e:Destroy()
            end
        end
    end

    if on then
        espConn = folder.ChildAdded:Connect(function(m)
            task.wait(0.33)
            if filter(m) then
                toggleESP(folder, filter, true, color)
            end
        end)
    end
end

VisualTab:CreateToggle({
    Name = "Chest ESP",
    CurrentValue = false,
    Callback = function(on)
        local items = workspace:WaitForChild("Items")
        toggleESP(items, function(m)
            return m.Name:lower():find("^item chest")
        end, on, Color3.fromRGB(255, 215, 0))
    end
})

VisualTab:CreateToggle({
    Name = "Wolf ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            local name = m.Name:lower()
            return name:find("wolf") or name == "alpha wolf"
        end, on, Color3.fromRGB(128, 128, 128))
    end
})

VisualTab:CreateToggle({
    Name = "Bunny ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            return m.Name:lower():find("bunny")
        end, on, Color3.fromRGB(255, 192, 203))
    end
})

VisualTab:CreateToggle({
    Name = "Bear ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            return m.Name:lower():find("bear")
        end, on, Color3.fromRGB(139, 69, 19))
    end
})

VisualTab:CreateToggle({
    Name = "Cultists ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            local name = m.Name:lower()
            return name:find("cultist") or name == "crossbow cultist"
        end, on, Color3.fromRGB(255, 0, 0))
    end
})

VisualTab:CreateToggle({
    Name = "Lost Childs ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            return m.Name:lower():find("lost")
        end, on, Color3.fromRGB(0, 255, 255))
    end
})

VisualTab:CreateToggle({
    Name = "Alien ESP",
    CurrentValue = false,
    Callback = function(on)
        local Characters = workspace:WaitForChild("Characters")
        toggleESP(Characters, function(m)
            local name = m.Name:lower()
            return name:find("alien") or name == "alien elite"
        end, on, Color3.fromRGB(0, 255, 0))
    end
})
